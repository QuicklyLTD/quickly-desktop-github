<div class="row">
  <div class="col-lg-10 pr-0">
    <div class="card full-height">
      <div class="card-header">
        <div class="row">
          <div class="col-lg-9">
            Gün Sonu
          </div>
          <div class="col-lg-3 pr-2 pl-0">
            <button *ngIf="selectedEndDay !== undefined" (click)="selectedEndDay = undefined;" class="btn btn-danger btn-sm btn-block">
              <i class="fa fa-backward" aria-hidden="true"></i> Geri Dön
            </button>
          </div>
        </div>
      </div>
      <div class="card-block p-0" [ngClass]="{'flow': selectedEndDay == undefined}">
        <app-day-detail *ngIf="selectedEndDay !== undefined" [data]="selectedEndDay"></app-day-detail>
        <table *ngIf="selectedEndDay == undefined" class="table table-striped table-bordered table-hover">
          <thead class="thead-inverse">
            <tr>
              <th width="5%">#</th>
              <th width="35%">
                <i class="fa fa-clock-o" aria-hidden="true"></i> Tarih
              </th>
              <th width="20%">
                <i class="fa fa-turkish-lira" aria-hidden="true"></i> Toplam Satış
              </th>
              <th width="20%">
                <i class="fa fa-sticky-note" aria-hidden="true"></i> Hesap Sayısı
              </th>
              <th width="20%">
                <i class="fa fa-user" aria-hidden="true"></i> Kullanıcı
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of endDayData; let i = index;" (click)="getDetail(item)">
              <td>{{i+1}}</td>
              <td>{{item.time | date:'dd/M/y HH:mm'}}</td>
              <td>{{item.total_income}} TL</td>
              <td>{{item.check_count}} Adet</td>
              <td>{{item.owner | general:'users' | async}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-2">
    <button [disabled]="isStarted" (click)="startDay()" class="btn btn-lg btn-success btn-block pt-5 pb-5">Gün Başı</button>
    <button [disabled]="!isStarted" (click)="endDay()" class="btn btn-lg btn-danger btn-block pt-5 pb-5">Gün Sonu</button>
  </div>
</div>

<div class="modal fade" id="endDayModal" tabindex="-1" role="dialog" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="modelTitleId">Gün Sonu</h4>
      </div>
      <div class="modal-body">
        <h3 class="text-muted mb-3">Gün Sonu Yapılıyor..</h3>
        <div class="progress" style="height: 35px;">
          <div class="progress-bar progress-bar-striped progress-bar-animated bg-warning" style="height: 35px;" role="progressbar"
            [ngStyle]="{'width': progress}"></div>
        </div>
      </div>
    </div>
  </div>
</div>