<div class="row">
  <div class="col-lg-10 pr-0">
    <div class="card full-height">
      <div class="card-header">Gün Sonu</div>
      <div class="card-block p-0 flow">
        <table class="table table-striped table-bordered table-hover">
          <thead class="thead-inverse">
            <tr>
              <th width="5%">#</th>
              <th width="35%">
                <i class="fa fa-clock-o" aria-hidden="true"></i> Tarih
              </th>
              <th width="20%">
                <i class="fa fa-turkish-lira" aria-hidden="true"></i> Toplam Satış
              </th>
              <th width="20%">
                <i class="fa fa-sticky-note" aria-hidden="true"></i> Hesap Sayısı
              </th>
              <th width="20%">
                <i class="fa fa-user" aria-hidden="true"></i> Kullanıcı
              </th>
            </tr>
          </thead>
          <tbody>
            <tr *ngFor="let item of endDayData; let i = index;" (click)="getDetail(item)">
              <td>{{i+1}}</td>
              <td>{{item.time | date:'dd/M/y HH:mm'}}</td>
              <td>{{item.total_income}} TL</td>
              <td>{{item.check_count}} Adet</td>
              <td>{{item.owner | general:'users' | async}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </div>
  </div>
  <div class="col-lg-2">
    <button [disabled]="isStarted" (click)="startDay()" class="btn btn-lg btn-success btn-block pt-5 pb-5">Gün Başı</button>
    <button [disabled]="!isStarted" (click)="endDay()" class="btn btn-lg btn-danger btn-block pt-5 pb-5">Gün Sonu</button>
  </div>
</div>

<div class="modal fade" id="endDetail" tabindex="-1" role="dialog" aria-labelledby="modelTitleId" aria-hidden="true">
  <div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h4 class="modal-title" id="modelTitleId">{{selectedEndDay?.time | date:'dd/M/y HH:mm'}}</h4>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <h3>Satış Durumu</h3>
        <p>Nakit Toplamı:
          <span class="pull-right">{{selectedEndDay?.cash_total}} TL</span>
        </p>
        <p>Kart Toplamı:
          <span class="pull-right">{{selectedEndDay?.card_total}} TL</span>
        </p>
        <p>Kupon Toplamı:
          <span class="pull-right">{{selectedEndDay?.coupon_total}} TL</span>
        </p>
        <p>İkram Hesap Toplamı:
          <span class="pull-right">{{selectedEndDay?.free_total}} TL</span>
        </p>
        <p>İptal Hesap Toplamı:
          <span class="pull-right">{{selectedEndDay?.canceled_total}} TL</span>
        </p>
        <p>Toplam Gelir:
          <span class="pull-right">{{selectedEndDay?.total_income}} TL</span>
        </p>
        <p>Hesap Adedi:
          <span class="pull-right">{{selectedEndDay?.check_count}} Adet</span>
        </p>
        <h3>Kasa Hareketleri</h3>
        <p>Kasa Geliri:
          <span class="pull-right">{{selectedEndDay?.outcomes}} TL</span>
        </p>
        <p>Kasa Gideri:
          <span class="pull-right">{{selectedEndDay?.incomes}} TL</span>
        </p>
      </div>
      <div class="modal-footer">
        <button type="button" class="btn btn-secondary btn-lg" data-dismiss="modal">Kapat</button>
      </div>
    </div>
  </div>
</div>